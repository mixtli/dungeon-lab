{"version":3,"file":"LoginView-CSYz9JJz.js","sources":["../../src/components/auth/LoginForm.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, reactive } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { ElMessage } from 'element-plus';\nimport { useAuthStore } from '@/stores/auth';\n\nconst authStore = useAuthStore();\nconst router = useRouter();\n\nconst form = reactive({\n  email: '',\n  password: '',\n});\n\nconst isSubmitting = ref(false);\nconst formRef = ref();\n\nconst rules = {\n  email: [\n    { required: true, message: 'Please enter your email', trigger: 'blur' },\n    { type: 'email', message: 'Please enter a valid email address', trigger: 'blur' },\n  ],\n  password: [\n    { required: true, message: 'Please enter your password', trigger: 'blur' },\n    { min: 6, message: 'Password must be at least 6 characters', trigger: 'blur' },\n  ],\n};\n\nasync function handleSubmit() {\n  if (!formRef.value) return;\n  \n  await formRef.value.validate(async (valid: boolean) => {\n    if (!valid) return;\n    \n    isSubmitting.value = true;\n    \n    try {\n      const success = await authStore.login(form);\n      \n      if (success) {\n        ElMessage.success('Login successful!');\n        router.push({ name: 'home' });\n      } else {\n        ElMessage.error(authStore.error || 'Login failed. Please try again.');\n      }\n    } catch (error) {\n      ElMessage.error('An unexpected error occurred. Please try again.');\n      console.error('Login error:', error);\n    } finally {\n      isSubmitting.value = false;\n    }\n  });\n}\n</script>\n\n<template>\n  <div class=\"login-form\">\n    <h2 class=\"text-2xl font-bold mb-6\">Login to Your Account</h2>\n    \n    <el-form\n      ref=\"formRef\"\n      :model=\"form\"\n      :rules=\"rules\"\n      label-position=\"top\"\n      @submit.prevent=\"handleSubmit\"\n    >\n      <el-form-item label=\"Email\" prop=\"email\">\n        <el-input \n          v-model=\"form.email\" \n          placeholder=\"Enter your email\"\n          type=\"email\"\n          autocomplete=\"email\"\n        />\n      </el-form-item>\n      \n      <el-form-item label=\"Password\" prop=\"password\">\n        <el-input \n          v-model=\"form.password\" \n          placeholder=\"Enter your password\"\n          type=\"password\"\n          autocomplete=\"current-password\"\n          show-password\n        />\n      </el-form-item>\n      \n      <div class=\"flex justify-between items-center mb-4\">\n        <el-checkbox>Remember me</el-checkbox>\n        <router-link \n          to=\"/auth/forgot-password\" \n          class=\"text-blue-600 hover:text-blue-800 text-sm\"\n        >\n          Forgot Password?\n        </router-link>\n      </div>\n      \n      <el-button \n        type=\"primary\" \n        native-type=\"submit\"\n        :loading=\"isSubmitting\"\n        class=\"w-full\"\n      >\n        Login\n      </el-button>\n      \n      <div class=\"relative my-6\">\n        <div class=\"absolute inset-0 flex items-center\">\n          <div class=\"w-full border-t border-gray-300 dark:border-gray-700\"></div>\n        </div>\n        <div class=\"relative flex justify-center text-sm\">\n          <span class=\"px-2 bg-white dark:bg-gray-800 text-gray-500\">Or continue with</span>\n        </div>\n      </div>\n      \n      <el-button \n        @click=\"authStore.loginWithGoogle()\"\n        class=\"w-full flex justify-center items-center\"\n      >\n        <svg class=\"w-5 h-5 mr-2\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z\" fill=\"#4285F4\"/>\n          <path d=\"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z\" fill=\"#4285F4\"/>\n          <path d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" fill=\"#EA4335\"/>\n          <path d=\"M1 12c0-1.34.25-2.61.67-3.77L2.17 7.1c-.43 1.16-.67 2.43-.67 3.77 0 1.34.25 2.61.67 3.77l3.66-2.84c-.43-1.16-.67-2.43-.67-3.77z\" fill=\"#FBBC05\"/>\n          <path d=\"M12 18.46c-2.86 0-5.29-1.93-6.16-4.53l-3.66 2.84c1.81 3.6 5.52 6.07 9.82 6.07 2.97 0 5.45-1.09 7.36-2.87l-3.15-3.15c-1.15 1.08-2.59 1.64-4.21 1.64z\" fill=\"#34A853\"/>\n          <path d=\"M22.54 12c0-.68-.06-1.34-.17-1.97h-9.87v3.95h5.53c-.24 1.28-.97 2.36-2.07 3.08l3.15 3.15c1.84-1.72 2.9-4.26 2.9-7.21z\" fill=\"#4285F4\"/>\n        </svg>\n        Sign in with Google\n      </el-button>\n      \n      <div class=\"mt-4 text-center\">\n        <p>\n          Don't have an account?\n          <router-link \n            to=\"/auth/register\" \n            class=\"text-blue-600 hover:text-blue-800 ml-1\"\n          >\n            Register\n          </router-link>\n        </p>\n      </div>\n    </el-form>\n  </div>\n</template>\n\n<style scoped>\n.login-form {\n  max-width: 400px;\n  margin: 0 auto;\n  padding: 2rem;\n  border-radius: 0.5rem;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  background-color: var(--el-bg-color);\n}\n</style> "],"names":["authStore","useAuthStore","router","useRouter","form","reactive","isSubmitting","ref","formRef","rules","handleSubmit","valid","ElMessage","error"],"mappings":"iaAMA,MAAMA,EAAYC,EAAa,EACzBC,EAASC,EAAU,EAEnBC,EAAOC,EAAS,CACpB,MAAO,GACP,SAAU,EAAA,CACX,EAEKC,EAAeC,EAAI,EAAK,EACxBC,EAAUD,EAAI,EAEdE,EAAQ,CACZ,MAAO,CACL,CAAE,SAAU,GAAM,QAAS,0BAA2B,QAAS,MAAO,EACtE,CAAE,KAAM,QAAS,QAAS,qCAAsC,QAAS,MAAO,CAClF,EACA,SAAU,CACR,CAAE,SAAU,GAAM,QAAS,6BAA8B,QAAS,MAAO,EACzE,CAAE,IAAK,EAAG,QAAS,yCAA0C,QAAS,MAAO,CAAA,CAEjF,EAEA,eAAeC,GAAe,CACvBF,EAAQ,OAEb,MAAMA,EAAQ,MAAM,SAAS,MAAOG,GAAmB,CACrD,GAAKA,EAEL,CAAAL,EAAa,MAAQ,GAEjB,GAAA,CACc,MAAMN,EAAU,MAAMI,CAAI,GAGxCQ,EAAU,QAAQ,mBAAmB,EACrCV,EAAO,KAAK,CAAE,KAAM,MAAA,CAAQ,GAElBU,EAAA,MAAMZ,EAAU,OAAS,iCAAiC,QAE/Da,EAAO,CACdD,EAAU,MAAM,iDAAiD,EACzD,QAAA,MAAM,eAAgBC,CAAK,CAAA,QACnC,CACAP,EAAa,MAAQ,EAAA,EACvB,CACD,CAAA"}