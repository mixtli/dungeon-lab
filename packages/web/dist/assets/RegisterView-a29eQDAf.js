import{x as g,X as E,r as _,y as v,A as m,P as o,ag as i,V as N,H as t,L as f,az as U,z as y}from"./vue-vendor-CXTDXhET.js";import{u as A}from"./index-cqCp6bjN.js";import{e as c}from"./ui-vendor-DW-xeH-g.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"register-form"},B={class:"mt-4 text-center"},F=g({__name:"RegisterForm",setup(V){const u=A(),w=U(),s=E({username:"",email:"",password:"",confirmPassword:"",displayName:""}),p=_(!1),n=_(),b={username:[{required:!0,message:"Please enter a username",trigger:"blur"},{min:3,message:"Username must be at least 3 characters",trigger:"blur"}],email:[{required:!0,message:"Please enter your email",trigger:"blur"},{type:"email",message:"Please enter a valid email address",trigger:"blur"}],password:[{validator:(d,e,r)=>{e===""?r(new Error("Please enter your password")):e.length<6?r(new Error("Password must be at least 6 characters")):(s.confirmPassword!==""&&n.value&&n.value.validateField("confirmPassword"),r())},trigger:"blur"}],confirmPassword:[{validator:(d,e,r)=>{e===""?r(new Error("Please confirm your password")):e!==s.password?r(new Error("Passwords do not match")):r()},trigger:"blur"}]};async function h(){n.value&&await n.value.validate(async d=>{if(d){p.value=!0;try{const{confirmPassword:e,...r}=s;await u.register(r)?(c.success("Registration successful!"),w.push({name:"home"})):c.error(u.error||"Registration failed. Please try again.")}catch(e){c.error("An unexpected error occurred. Please try again."),console.error("Registration error:",e)}finally{p.value=!1}}})}return(d,e)=>{const r=i("el-input"),l=i("el-form-item"),x=i("el-button"),R=i("router-link"),C=i("el-form");return y(),v("div",S,[e[8]||(e[8]=m("h2",{class:"text-2xl font-bold mb-6"},"Create an Account",-1)),o(C,{ref_key:"formRef",ref:n,model:s,rules:b,"label-position":"top",onSubmit:N(h,["prevent"])},{default:t(()=>[o(l,{label:"Username",prop:"username"},{default:t(()=>[o(r,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=a=>s.username=a),placeholder:"Choose a username",autocomplete:"username"},null,8,["modelValue"])]),_:1}),o(l,{label:"Email",prop:"email"},{default:t(()=>[o(r,{modelValue:s.email,"onUpdate:modelValue":e[1]||(e[1]=a=>s.email=a),placeholder:"Enter your email",type:"email",autocomplete:"email"},null,8,["modelValue"])]),_:1}),o(l,{label:"Display Name (optional)"},{default:t(()=>[o(r,{modelValue:s.displayName,"onUpdate:modelValue":e[2]||(e[2]=a=>s.displayName=a),placeholder:"Enter your display name",autocomplete:"name"},null,8,["modelValue"])]),_:1}),o(l,{label:"Password",prop:"password"},{default:t(()=>[o(r,{modelValue:s.password,"onUpdate:modelValue":e[3]||(e[3]=a=>s.password=a),placeholder:"Create a password",type:"password",autocomplete:"new-password","show-password":""},null,8,["modelValue"])]),_:1}),o(l,{label:"Confirm Password",prop:"confirmPassword"},{default:t(()=>[o(r,{modelValue:s.confirmPassword,"onUpdate:modelValue":e[4]||(e[4]=a=>s.confirmPassword=a),placeholder:"Confirm your password",type:"password",autocomplete:"new-password","show-password":""},null,8,["modelValue"])]),_:1}),o(x,{type:"primary","native-type":"submit",loading:p.value,class:"w-full"},{default:t(()=>e[5]||(e[5]=[f(" Register ")])),_:1},8,["loading"]),m("div",B,[m("p",null,[e[7]||(e[7]=f(" Already have an account? ")),o(R,{to:"/auth/login",class:"text-blue-600 hover:text-blue-800 ml-1"},{default:t(()=>e[6]||(e[6]=[f(" Login ")])),_:1})])])]),_:1},8,["model"])])}}}),$=P(F,[["__scopeId","data-v-1f3d6380"]]),q={class:"register-view"},z={class:"auth-container"},D={class:"auth-card"},I=g({__name:"RegisterView",setup(V){return(u,w)=>(y(),v("div",q,[m("div",z,[m("div",D,[o($)])])]))}}),j=P(I,[["__scopeId","data-v-54e14158"]]);export{j as default};
//# sourceMappingURL=RegisterView-a29eQDAf.js.map
